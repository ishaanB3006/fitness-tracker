(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3790],{45503:function(){},24094:function(e,t,r){"use strict";r.d(t,{e9:function(){return a},gR:function(){return c},getAllMealPlans:function(){return d},getMealPlanById:function(){return u},getWorkoutById:function(){return s}});var n=r(14519);let o=null;function i(){return{apiKey:"blt8dfe4b69333e96ec",deliveryToken:"cs7c0d255f1c393b5ea1dd0150",environment:"production"}}let a=async e=>{if(!m)throw Error("Contentstack stack not initialized");let t=await m.contentType("workout").entry(e).includeReference(["exercises.exercise"]).fetch();return console.log(t),t},c=async()=>{try{let e=i();if(!e.apiKey||!e.deliveryToken||!e.environment)throw console.error("Contentstack configuration missing:",e),Error("Contentstack configuration is missing. Please check your environment variables.");let t="".concat("https://cdn.contentstack.io/v3/content_types/workout/entries","?environment=").concat(e.environment,"&include[]=exercises.exercise"),r=await fetch(t,{headers:{api_key:e.apiKey,access_token:e.deliveryToken}});if(!r.ok){let t=await r.text();if(console.error("Contentstack API error (".concat(r.status,"):"),t),404===r.status)throw Error("Workouts not found. Check if entries are published in the '".concat(e.environment,"' environment."));throw Error("Failed to fetch workouts: ".concat(r.status," ").concat(r.statusText))}let n=await r.json(),o=(null==n?void 0:n.entries)||[];if(0===o.length)return console.warn("No workouts found in Contentstack"),[];return o.map(e=>l(e))}catch(e){throw console.error("Error fetching workouts from Contentstack:",e),e}},s=async e=>{try{let t=i();if(!t.apiKey||!t.deliveryToken||!t.environment)throw console.error("Contentstack configuration missing:",t),Error("Contentstack configuration is missing. Please check your environment variables.");let r="https://cdn.contentstack.io/v3/content_types/workout/entries/".concat(e),n=await fetch("".concat(r,"?environment=").concat(t.environment,"&include[]=exercises.exercise"),{headers:{api_key:t.apiKey,access_token:t.deliveryToken}});if(!n.ok){if(404===n.status)return console.warn("Workout ".concat(e," not found in Contentstack")),null;let t=await n.text();throw console.error("Contentstack API error (".concat(n.status,") for workout ").concat(e,":"),t),Error("Failed to fetch workout: ".concat(n.status," ").concat(n.statusText))}let o=await n.json(),a=null==o?void 0:o.entry;if(!a)return null;return l(a)}catch(e){throw console.error("Error fetching workout from Contentstack:",e),e}};function l(e){var t;let r=[];e.exercises&&Array.isArray(e.exercises)&&e.exercises.forEach(e=>{e.exercise&&Array.isArray(e.exercise)&&e.exercise.forEach(e=>{if(e.title){var t,n;r.push({id:e.uid||e._id||"",name:e.title||"",sets:e.sets||0,reps:(null===(t=e.reps)||void 0===t?void 0:t.toString())||"0",restSeconds:e.rest_duration?60*e.rest_duration:30,notes:e.notes||void 0,videoUrl:(null===(n=e.tutorial)||void 0===n?void 0:n.url)||void 0})}})});let n=(null===(t=e.image)||void 0===t?void 0:t.url)||"https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=800&h=600&fit=crop";return{id:e.uid||e._id||"",title:e.title||"",description:e.description||"",muscleGroups:e.muscle_groups||[],difficulty:e.difficulty||"beginner",duration:e.duration||0,equipment:e.equipment||[],calories:e.calories||0,videoUrl:e.video_url||void 0,thumbnailUrl:n,exercises:r,tags:e.tags||[],createdAt:e.created_at||new Date().toISOString(),updatedAt:e.updated_at||new Date().toISOString()}}let d=async()=>{try{let e=i();if(!e.apiKey||!e.deliveryToken||!e.environment)throw console.error("Contentstack configuration missing:",e),Error("Contentstack configuration is missing. Please check your environment variables.");let t=e.apiKey,r=e.deliveryToken,n=e.environment,o=await fetch("".concat("https://cdn.contentstack.io/v3/content_types/meal_plan/entries","?environment=").concat(n,"&include[]=daily_macros.reference&include[]=meals.breakfast.reference&include[]=meals.lunch.reference&include[]=meals.dinner.reference"),{headers:{api_key:t,access_token:r}});if(!o.ok)throw Error("Failed to fetch meal plans: ".concat(o.statusText));let a=await o.json(),c=(null==a?void 0:a.entries)||[];return(await Promise.all(c.map(async e=>{if(e.daily_macros&&Array.isArray(e.daily_macros)){let o=e.daily_macros.map(async e=>e.reference&&Array.isArray(e.reference)?Promise.all(e.reference.map(async e=>{if(e.uid&&!e.title)try{let o=await fetch("https://cdn.contentstack.io/v3/content_types/macros/entries/".concat(e.uid,"?environment=").concat(n),{headers:{api_key:t,access_token:r}});if(o.ok){let t=await o.json();return(null==t?void 0:t.entry)||e}}catch(e){console.error("Error fetching macro:",e)}return e})):[]),i=await Promise.all(o);e.daily_macros=e.daily_macros.map((e,t)=>({...e,reference:i[t]||e.reference}))}if(e.meals)for(let i of["breakfast","lunch","dinner"]){var o;if((null===(o=e.meals[i])||void 0===o?void 0:o.reference)&&Array.isArray(e.meals[i].reference)){let o=e.meals[i].reference.map(async e=>{if(e.uid)try{let o=await fetch("https://cdn.contentstack.io/v3/content_types/meal/entries/".concat(e.uid,"?environment=").concat(n),{headers:{api_key:t,access_token:r}});if(o.ok){let t=await o.json();return(null==t?void 0:t.entry)||e}}catch(e){console.error("Error fetching meal:",e)}return e}),a=await Promise.all(o);e.meals[i].reference=a}}return e}))).map(e=>f(e))}catch(e){throw console.error("Error fetching meal plans from Contentstack:",e),e}},u=async e=>{try{let r=i();if(!r.apiKey||!r.deliveryToken||!r.environment)throw console.error("Contentstack configuration missing:",r),Error("Contentstack configuration is missing. Please check your environment variables.");let n=r.apiKey,o=r.deliveryToken,a=r.environment,c=await fetch("".concat("https://cdn.contentstack.io/v3/content_types/meal_plan/entries/".concat(e),"?environment=").concat(a,"&include[]=daily_macros.reference&include[]=meals.breakfast.reference&include[]=meals.lunch.reference&include[]=meals.dinner.reference"),{headers:{api_key:n,access_token:o}});if(!c.ok){if(404===c.status)return null;throw Error("Failed to fetch meal plan: ".concat(c.statusText))}let s=await c.json(),l=null==s?void 0:s.entry;if(!l)return null;if(l.daily_macros&&Array.isArray(l.daily_macros)){let e=l.daily_macros.map(async e=>e.reference&&Array.isArray(e.reference)?Promise.all(e.reference.map(async e=>{if(e.uid&&!e.title)try{let t=await fetch("https://cdn.contentstack.io/v3/content_types/macros/entries/".concat(e.uid,"?environment=").concat(a),{headers:{api_key:n,access_token:o}});if(t.ok){let r=await t.json();return(null==r?void 0:r.entry)||e}}catch(e){console.error("Error fetching macro:",e)}return e})):[]),t=await Promise.all(e);l.daily_macros=l.daily_macros.map((e,r)=>({...e,reference:t[r]||e.reference}))}if(l.meals)for(let e of["breakfast","lunch","dinner"]){var t;if((null===(t=l.meals[e])||void 0===t?void 0:t.reference)&&Array.isArray(l.meals[e].reference)){let t=l.meals[e].reference.map(async e=>{if(e.uid)try{let t=await fetch("https://cdn.contentstack.io/v3/content_types/meal/entries/".concat(e.uid,"?environment=").concat(a),{headers:{api_key:n,access_token:o}});if(t.ok){let r=await t.json();return(null==r?void 0:r.entry)||e}}catch(e){console.error("Error fetching meal:",e)}return e}),r=await Promise.all(t);l.meals[e].reference=r}}return f(l)}catch(e){throw console.error("Error fetching meal plan from Contentstack:",e),e}};function f(e){var t,r,n,o,i,a,c;let s={protein:0,carbs:0,fat:0,fiber:0};e.daily_macros&&Array.isArray(e.daily_macros)&&e.daily_macros.forEach(e=>{e.reference&&Array.isArray(e.reference)&&e.reference.forEach(e=>{if(e.title&&void 0!==e.value){let t=e.title.toLowerCase();"protein"===t?s.protein=e.value:"carbs"===t||"carbohydrates"===t?s.carbs=e.value:"fat"===t?s.fat=e.value:"fiber"===t&&(s.fiber=e.value)}})});let l=(null===(t=e.thumbnail)||void 0===t?void 0:t.url)||"https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=800&h=600&fit=crop",d=[];return(null===(n=e.meals)||void 0===n?void 0:null===(r=n.breakfast)||void 0===r?void 0:r.reference)&&Array.isArray(e.meals.breakfast.reference)&&e.meals.breakfast.reference.forEach(e=>{if(e.title||e.uid){var t,r,n,o;d.push({id:e.uid||"",name:e.title||"",type:"breakfast",calories:e.calories||0,macros:{protein:(null===(t=e.macros)||void 0===t?void 0:t.protein)||0,carbs:(null===(r=e.macros)||void 0===r?void 0:r.carbs)||0,fat:(null===(n=e.macros)||void 0===n?void 0:n.fat)||0},ingredients:e.ingredients||[],prepTime:e.prep_time||0,cookTime:e.cook_time||0,imageUrl:(null===(o=e.image)||void 0===o?void 0:o.url)||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&h=600&fit=crop"})}}),(null===(i=e.meals)||void 0===i?void 0:null===(o=i.lunch)||void 0===o?void 0:o.reference)&&Array.isArray(e.meals.lunch.reference)&&e.meals.lunch.reference.forEach(e=>{if(e.title||e.uid){var t,r,n,o;d.push({id:e.uid||"",name:e.title||"",type:"lunch",calories:e.calories||0,macros:{protein:(null===(t=e.macros)||void 0===t?void 0:t.protein)||0,carbs:(null===(r=e.macros)||void 0===r?void 0:r.carbs)||0,fat:(null===(n=e.macros)||void 0===n?void 0:n.fat)||0},ingredients:e.ingredients||[],prepTime:e.prep_time||0,cookTime:e.cook_time||0,imageUrl:(null===(o=e.image)||void 0===o?void 0:o.url)||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&h=600&fit=crop"})}}),(null===(c=e.meals)||void 0===c?void 0:null===(a=c.dinner)||void 0===a?void 0:a.reference)&&Array.isArray(e.meals.dinner.reference)&&e.meals.dinner.reference.forEach(e=>{if(e.title||e.uid){var t,r,n,o;d.push({id:e.uid||"",name:e.title||"",type:"dinner",calories:e.calories||0,macros:{protein:(null===(t=e.macros)||void 0===t?void 0:t.protein)||0,carbs:(null===(r=e.macros)||void 0===r?void 0:r.carbs)||0,fat:(null===(n=e.macros)||void 0===n?void 0:n.fat)||0},ingredients:e.ingredients||[],prepTime:e.prep_time||0,cookTime:e.cook_time||0,imageUrl:(null===(o=e.image)||void 0===o?void 0:o.url)||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&h=600&fit=crop"})}}),{id:e.uid||e._id||"",title:e.title||"",description:e.description||"",dietType:e.diet_type||"balanced",macros:s,allergyTags:e.allergy_tags||[],meals:d,totalCalories:e.total_calories||0,thumbnailUrl:l,createdAt:e.created_at||new Date().toISOString(),updatedAt:e.updated_at||new Date().toISOString()}}let m=function(){let{apiKey:e,deliveryToken:t,environment:r}=i();if(console.debug("[contentstack] initContentstack() called",{apiKey:e,deliveryToken:t,environment:r}),!e||!t||!r)return console.error("Contentstack configuration missing. Check environment variables."),o=null,null;try{return o=n.ZP.stack({apiKey:e,deliveryToken:t,environment:r}),console.info("Contentstack stack initialized successfully."),o}catch(e){return console.error("Failed to initialize Contentstack stack:",e),o=null,null}}();console.debug("[contentstack] Module loaded, stack initialized:",null!==m)}}]);